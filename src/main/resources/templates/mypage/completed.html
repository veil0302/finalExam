<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<head>
    <!-- mypage 전용 css -->
    <link rel="stylesheet" th:href="@{/css/mypage.css}">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<div layout:fragment="content" class="container my-5">
    <div class="reading-nav mb-4">
        <a href="/to-read"
           class="reading-nav-item">
            📕 읽을 예정
        </a>

        <a href="/reading"
           class="reading-nav-item">
            📘 읽는 중
        </a>

        <a href="/completed"
           class="reading-nav-item">
            📗 완독
        </a>
    </div>

    <h2 class="mypage-title mb-4">📗 완독한 책</h2>

    <table class="table table-hover align-middle">
        <thead>
        <tr>
            <th>표지</th>
            <th>도서명</th>
            <th>저자</th>
            <th>독서 기간</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="mb : ${completedList}">
            <!-- 표지 -->
            <td>
                <img th:src="${mb.book.imageUrl}" width="60" class="rounded">
            </td>

            <!-- 도서명 -->
            <td th:text="${mb.book.title}"></td>

            <!-- 저자 -->
            <td th:text="${mb.book.author}"></td>

            <!-- 독서 기간 -->
            <td>
                <small class="text-muted">
                    <span th:text="${mb.startedDate}"></span>
                    ~
                    <span th:text="${mb.completedDate}"></span>
                </small>
                <br>
                <strong class="text-primary">
                    (<span th:text="${T(java.time.temporal.ChronoUnit).DAYS.between(mb.startedDate, mb.completedDate) + 1}"></span>일)
                </strong>
            </td>
        </tr>
        </tbody>

    </table>

</div>
</body>
</html>